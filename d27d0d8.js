(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{431:function(t,e,o){t.exports=o.p+"img/edit.8faff52.svg"},591:function(t,e,o){"use strict";o.r(e);var r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-lg-2 col-md-3 pl-1"},[o("div",{staticClass:"profileLftSB"},[o("p",[t._v("\n                Start creating your business profile to enter next level of word\n              ")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title2"},[o("span",[t._v("Business Profile")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"progressBox addCompanyProgress"},[o("div",{staticClass:"progressBar done"},[o("small",[t._v("1")])]),t._v(" "),o("div",{staticClass:"progressBar"},[o("small",[t._v("2")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"edit"},[e("img",{attrs:{src:o(431),alt:""}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-lg-2 col-md-3 pl-1"},[o("div",{staticClass:"profileLftSB"},[o("p",[t._v("\n                Start creating your business profile to enter next level of word\n              ")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title2"},[o("span",[t._v("Business Profile")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"progressBox addCompanyProgress mb-0"},[o("div",{staticClass:"progressBar done"},[o("small",[t._v("1")])]),t._v(" "),o("div",{staticClass:"progressBar done"},[o("small",[t._v("2")])])])}],n=(o(33),o(56),o(64),o(111),o(25),o(32),{layout:"afterlogin",middleware:["auth"],data:function(){return{step1:!1,step2:!1,accessdeny:!1,count:0,company_image:null,image:null,image_error:null,url:null,company_name:null,company_name_error:null,website:null,website_error:null,industry:null,industry_error:null,company_size:null,company_size_error:null,company_type:null,company_type_error:null,company_email:null,company_email_error:null,company_mobile:null,company_mobile_error:null,address:null,address_error:null,city:null,city_error:null,editcountry:null,country_error:null,show:!1,company_slug:null,params:{token:"123456798",name:"avatar"},headers:{smail:"*_~"},imgDataUrl:null}},mounted:function(){var t=this;document.getElementsByClassName("afterLogin").length>0||(document.body.className+=" afterLogin "),this.$store.commit("startLoading"),this.company_slug=localStorage.getItem("credoActiveCompanySlug");var e=this.$store.state.auth.user.id;this.$axios.post("https://robob.credotree.com/api/get-company-role-by-slug",{slug:this.company_slug,user:e}).then((function(e){"Access Denied"==e.data.status?(t.$store.commit("stopLoading"),t.accessdeny=!0,t.step1=!1):(t.accessdeny=!1,t.step1=!0,t.$axios.post("https://robob.credotree.com/api/get-update-company-details",{companySlug:t.company_slug}).then((function(e){t.company_image=e.data[0].company_image,t.company_name=e.data[0].company_name,t.industry=e.data[0].industry,t.website=e.data[0].website,t.company_size=e.data[0].company_size,t.company_type=e.data[0].company_type,t.company_email=e.data[0].company_email,t.company_mobile=e.data[0].company_mobile,t.address=e.data[0].company_address,t.editcountry=e.data[0].country,t.city=e.data[0].city,t.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")})))})).catch((function(t){this.$store.commit("stopLoading")}))},methods:{customFormatter:function(t){return o(71)(t).format("YYYY-MM-DD")},toggleShow:function(){this.show=!this.show},cropSuccess:function(t,e){var o=this;this.imgDataUrl=t,fetch(this.imgDataUrl).then((function(t){return t.blob()})).then((function(t){o.image=new File([t],"File name",{type:"image/png"})}))},cropUploadSuccess:function(t,e){},cropUploadFail:function(t,e){},closeRightSuccess:function(){this.successLeft=null},onFileChange:function(t){try{this.image=t.target.files[0],this.url=URL.createObjectURL(this.image)}catch(t){}},clearErrorFields:function(){this.image_error=null,this.company_name_error=null,this.website_error=null,this.industry_error=null,this.company_size_error=null,this.company_type_error=null,this.company_email_error=null,this.company_mobile_error=null,this.address_error=null,this.city_error=null,this.country_error=null,this.count=0},saveAndNext:function(){this.clearErrorFields(),this.testEmpty(this.company_name)<=0&&(this.company_name_error="Please enter company name",this.count+=1),this.testEmpty(this.website)<=0&&(this.website_error="Please enter company website",this.count+=1),this.testEmpty(this.industry)<=0&&(this.industry_error="Please select industry",this.count+=1),this.testEmpty(this.company_size)<=0&&(this.company_size_error="Please select company size",this.count+=1),this.testEmpty(this.company_type)<=0&&(this.company_type_error="Please select company type",this.count+=1),this.count>0||(this.step1=!1,this.step2=!0)},goBack:function(){this.step2=!1,this.step1=!0},testEmpty:function(t){return null==t?0:t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")},submit:function(){var t=this;if(this.$store.commit("startLoading"),this.clearErrorFields(),this.testEmpty(this.company_email)<=0&&(this.company_email_error="Please enter company email",this.count+=1),this.testEmpty(this.company_mobile)<=0&&(this.company_mobile_error="Please enter company mobile",this.count+=1),this.testEmpty(this.address)<=0&&(this.address_error="Please enter address",this.count+=1),this.testEmpty(this.city)<=0&&(this.city_error="Please enter city",this.count+=1),null==this.editcountry&&(this.country_error="Please select country",this.count+=1),this.count>0)this.$store.commit("stopLoading");else{var data=new FormData;data.append("company_image",this.image),data.append("company_name",this.company_name),data.append("companySlug",this.company_slug),data.append("website",this.website),data.append("industry",this.industry),data.append("company_size",this.company_size),data.append("company_type",this.company_type),data.append("company_email",this.company_email),data.append("company_mobile",this.company_mobile),data.append("company_address",this.address),data.append("city",this.city),data.append("country",this.editcountry),this.$store.commit("startLoading"),this.$axios.post("https://robob.credotree.com/api/update-company-profile-info",data,{headers:{"content-type":"multipart/form-data"}}).then((function(e){try{t.image_error=e.data.response.company_image[0],t.$store.commit("stopLoading"),t.step2=!1,t.step1=!0}catch(t){}try{t.company_name_error=e.data.response.company_name[0],t.$store.commit("stopLoading"),t.step2=!1,t.step1=!0}catch(t){}try{t.website_error=e.data.response.website[0],t.$store.commit("stopLoading"),t.step2=!1,t.step1=!0}catch(t){}try{t.industry_error=e.data.response.industry[0],t.$store.commit("stopLoading"),t.step2=!1,t.step1=!0}catch(t){}try{t.company_size_error=e.data.response.company_size[0],t.$store.commit("stopLoading"),t.step2=!1,t.step1=!0}catch(t){}try{t.company_type_error=e.data.response.company_type[0],t.$store.commit("stopLoading"),t.step2=!1,t.step1=!0}catch(t){}try{t.company_email_error=e.data.response.company_email[0],t.$store.commit("stopLoading"),t.step2=!0,t.step1=!1}catch(t){}try{t.company_mobile_error=e.data.response.company_mobile[0],t.$store.commit("stopLoading"),t.step2=!0,t.step1=!1}catch(t){}try{t.address_error=e.data.response.company_address[0],t.$store.commit("stopLoading"),t.step2=!0,t.step1=!1}catch(t){}try{t.city_error=e.data.response.city[0],t.$store.commit("stopLoading"),t.step2=!0,t.step1=!1}catch(t){}try{t.country_error=e.data.response.country[0],t.$store.commit("stopLoading"),t.step2=!0,t.step1=!1}catch(t){}t.$store.commit("stopLoading"),"success"==e.data.status&&("1"==e.data.image_status&&localStorage.setItem("credoActiveCompanyImage",e.data.image),t.$store.commit("rightReload"),t.$store.commit("stopLoading"),t.$router.push("/company/basicinfo")),t.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))}}}}),c=o(24),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.step1?o("section",{staticClass:"mainSection"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[t._m(0),t._v(" "),o("div",{staticClass:"col-lg-7 col-md-6"},[o("div",{staticClass:"profileBox"},[t._m(1),t._v(" "),t._m(2),t._v(" "),o("div",{staticClass:"userProfile"},[o("label",{staticClass:"profileImg"},[o("input",{on:{click:t.toggleShow}}),t._v(" "),null==t.imgDataUrl?[t.company_image?o("img",{staticClass:"image-style",attrs:{src:"https://credoadmin.codesk.work/companyimage/"+this.company_image}}):o("img",{class:[null==t.url?"animate":""],attrs:{alt:""}})]:[t.imgDataUrl?o("img",{staticClass:"image-style",attrs:{src:t.imgDataUrl}}):o("img",{class:[null==t.url?"animate":""],attrs:{alt:""}})],t._v(" "),t._m(3)],2),t._v(" "),o("p",[t._v("(For Better result image size should 150x150)")]),t._v(" "),t.image_error?o("p",{staticClass:"text-danger"},[t._v(t._s(t.image_error))]):t._e()]),t._v(" "),o("client-only",[o("my-upload",{attrs:{langType:"en",field:"img",noSquare:!0,width:300,height:300,params:t.params,headers:t.headers,"img-format":"png"},on:{"crop-success":t.cropSuccess,"crop-upload-success":t.cropUploadSuccess,"crop-upload-fail":t.cropUploadFail},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1),t._v(" "),o("div",{staticClass:"profileForm"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Name")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.company_name,expression:"company_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Company Name"},domProps:{value:t.company_name},on:{input:function(e){e.target.composing||(t.company_name=e.target.value)}}}),t._v(" "),t.company_name_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.company_name_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Website")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.website,expression:"website"}],staticClass:"form-control",attrs:{type:"text",placeholder:"abcxycompany.com"},domProps:{value:t.website},on:{input:function(e){e.target.composing||(t.website=e.target.value)}}}),t._v(" "),t.website_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.website_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Industry")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.industry,expression:"industry"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.industry=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"null"}},[t._v("Please select")]),t._v(" "),o("option",{attrs:{value:"Software"}},[t._v("Software")]),t._v(" "),o("option",{attrs:{value:"Real Estate"}},[t._v("Real Estate")]),t._v(" "),o("option",{attrs:{value:"Healthcare"}},[t._v("Healthcare")])]),t._v(" "),t.industry_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.industry_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Company Size")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.company_size,expression:"company_size"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.company_size=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"null"}},[t._v("Please select")]),t._v(" "),o("option",{attrs:{value:"02-10 Employee"}},[t._v("02-10 Employee")]),t._v(" "),o("option",{attrs:{value:"10-25 Employee"}},[t._v("10-25 Employee")]),t._v(" "),o("option",{attrs:{value:"25-50 Employee"}},[t._v("25-50 Employee")])]),t._v(" "),t.company_size_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.company_size_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Company Type")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.company_type,expression:"company_type"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.company_type=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"null"}},[t._v("Please select")]),t._v(" "),o("option",{attrs:{value:"Product"}},[t._v("Product")]),t._v(" "),o("option",{attrs:{value:"Service"}},[t._v("Service")])]),t._v(" "),t.company_type_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.company_type_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-12"},[o("div",{staticClass:"formBtnBox text-right"},[o("button",{staticClass:"btn w-auto",on:{click:t.saveAndNext}},[t._v("\n                        Save and Next\n                      ")])])])])])],1)]),t._v(" "),o("div",{staticClass:"col-lg-3 col-md-3"})])])]):t._e(),t._v(" "),t.step2?o("section",{staticClass:"mainSection"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[t._m(4),t._v(" "),o("div",{staticClass:"col-lg-7 col-md-6"},[o("div",{staticClass:"profileBox"},[t._m(5),t._v(" "),t._m(6),t._v(" "),o("div",{staticClass:"profileForm"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Company Email")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.company_email,expression:"company_email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"abcxycompany@info.com"},domProps:{value:t.company_email},on:{input:function(e){e.target.composing||(t.company_email=e.target.value)}}}),t._v(" "),t.company_email_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.company_email_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Company Mobile")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.company_mobile,expression:"company_mobile"}],staticClass:"form-control",attrs:{type:"text",placeholder:"123 456 7890"},domProps:{value:t.company_mobile},on:{input:function(e){e.target.composing||(t.company_mobile=e.target.value)}}}),t._v(" "),t.company_mobile_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.company_mobile_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Address")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),t.address_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.address_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("City")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"City"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),t._v(" "),t.city_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.city_error)+"\n                      ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Country")]),t._v(" "),o("client-only",[o("country-select",{staticClass:"form-control",attrs:{country:t.editcountry,autocomplete:!0,countryName:!0,topCountry:"US"},model:{value:t.editcountry,callback:function(e){t.editcountry=e},expression:"editcountry"}})],1),t._v(" "),t.country_error?o("p",{staticClass:"text-danger"},[t._v("\n                        "+t._s(t.country_error)+"\n                      ")]):t._e()],1)]),t._v(" "),o("div",{staticClass:"col-12"},[o("div",{staticClass:"formBtnBox text-right"},[o("a",{staticClass:"btn w-auto outline",on:{click:t.goBack}},[t._v("Back")]),t._v(" "),o("button",{staticClass:"btn w-auto",on:{click:t.submit}},[t._v("Save")])])])])])])]),t._v(" "),o("div",{staticClass:"col-lg-3 col-md-3"})])])]):t._e(),t._v(" "),1==t.accessdeny?o("div",{staticClass:"updateBox"},[o("div",{staticClass:"updateContent"},[o("div",{staticClass:"verifyBox"},[o("h5",[t._v("\n            Access Denied: You do not have access for this page\n            "),o("br"),t._v(" "),o("p",[o("NuxtLink",{attrs:{to:"/company/basicinfo"}},[o("a",{staticStyle:{"text-decoration":"none",color:"#77c01e"}},[t._v("Back")])])],1)])])])]):t._e()])}),r,!1,null,null,null);e.default=component.exports}}]);