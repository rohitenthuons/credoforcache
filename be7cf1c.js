(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{463:function(t,e,o){},505:function(t,e,o){"use strict";o(463)},580:function(t,e,o){"use strict";o.r(e);o(25),o(44),o(85),o(56),o(13),o(86),o(32),o(50),o(199),o(34);var n={middleware:["auth"],layout:"companymaindashboard",data:function(){return{description:null,description_error:null,view_description:null,view_founded:null,founded_on:null,date_error:null,offer:"Services",offer_error:null,view_offer:null,services:[],view_services:[],edit_services:[],success:null,company_slug:null,todayDate:(new Date).toISOString().split("T")[0],loaded:!1,listItems:null,rangeyear:"",step:!1,newloaded:!1,disabledDates:{from:new Date(2016,0,26)}}},computed:{maxtodaydate:function(){var t=new Date(this.todayDate),e=t.getDate(),o=t.getMonth(),n=t.getFullYear();return new Date(n,o,e)},years:function(){var t=(new Date).getFullYear();return Array.from({length:t-1970},(function(e,o){return t-o}))}},mounted:function(){var t=this;document.getElementsByClassName("afterLogin").length>0||(document.body.className+="afterLogin");var e=(new Date).getFullYear();this.rangeyear="1940:"+e;var o=new Date(this.todayDate),n=new Date(o),r=n.getDate(),c=n.getMonth();e=n.getFullYear();this.disabledDates.from=new Date(e,c,r),1==localStorage.getItem("companyinfoadd")&&(localStorage.removeItem("companyinfoadd"),$('.nav-item a[href="#add"]').tab("show")),this.company_slug=localStorage.getItem("credoActiveCompanySlug"),this.$axios.post("https://robob.credotree.com/api/view-company-basicinfo",{company_slug:this.company_slug}).then((function(e){t.newloaded=!0,t.step=!0;try{t.view_founded=e.data.company_info.founded_date,t.founded_on=new Date(e.data.company_info.founded_date)}catch(t){}try{t.view_description=e.data.company_info.description,t.description=e.data.company_info.description}catch(t){}try{t.view_offer=e.data.company_info.offer,"Products and Service"==e.data.company_info.offer?t.offer="Both":t.offer=e.data.company_info.offer}catch(t){}try{t.services=e.data.services,t.edit_services=e.data.services}catch(t){}t.loaded=!0})).catch((function(t){}))},methods:{testEmpty:function(t){return null==t?0:t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")},shows:function(){var t=this.maxtodaydate.getMonth(),e=this.maxtodaydate.getFullYear();setTimeout((function(){$(".p-datepicker-month").each((function(){$(this).children("option").show()})),e==$(".p-datepicker-year").val()&&$(".p-datepicker-month > option").each((function(){t<$(this).val()&&$(this).remove()}))}),100)},save:function(){var t=this,e=o(71);if(this.count=0,this.view_services.splice(0,this.view_services.length),this.testEmpty(this.description)<=0&&(this.description_error="Please fill this field",this.count+=1),null==this.founded_on&&(this.date_error="Please fill this field",this.count+=1),""==this.offer&&(this.offer_error="Please select offer",this.count+=1),this.count>0)this.$store.commit("stopLoading");else{this.listItems=document.getElementsByClassName("addedTag");for(var i=0;i<this.listItems.length;i++)this.view_services.push(this.listItems[i].innerText.slice(0,-1));var n=e(this.founded_on).format("YYYY-MM-DD");this.$store.commit("startLoading"),this.$axios.post("https://robob.credotree.com/api/update-company-info",{company_slug:this.company_slug,description:this.description,founded_on:n,offer:"Both"==this.offer?"Products and Service":this.offer,services:this.view_services}).then((function(e){try{t.description_error=e.data.response.description[0],t.$store.commit("stopLoading")}catch(t){}try{t.date_error=e.data.response.founded_on[0],t.$store.commit("stopLoading")}catch(t){}try{t.offer_error=e.data.response.offer[0],t.$store.commit("stopLoading")}catch(t){}try{"success"==e.data.status&&(t.view_description=e.data.company_info.description,t.view_founded=e.data.company_info.founded_date,t.view_offer=e.data.company_info.offer,t.services.splice(0,t.services.length),t.edit_services.splice(0,t.edit_services.length),$(".static").remove(),t.edit_services=e.data.refresh_tags,t.services=e.data.refresh_tags,$('.nav-item a[href="#view"]').tab("show"))}catch(t){}t.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))}}}},r=(o(505),o(24)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-lg-7 col-md-6"},[0==t.newloaded?o("div",[t._m(0)]):t._e(),t._v(" "),1==t.step?o("div",{staticClass:"updateBox"},[t._m(1),t._v(" "),o("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[o("div",{staticClass:"tab-pane fade show active",attrs:{id:"view",role:"tabpanel"}},[o("div",{staticClass:"updateContent"},[o("div",{staticClass:"basicInfo"},[o("h2",[t._v("About")]),t._v(" "),t.view_description?o("p",[t._v(t._s(t.view_description))]):1==t.loaded?o("p",[t._v("No description added")]):t._e()]),t._v(" "),o("div",{staticClass:"basicInfo"},[o("h2",[t._v("Founded on")]),t._v(" "),t.view_founded?o("p",[t._v(t._s(t.view_founded))]):1==t.loaded?o("p",[t._v("Not added")]):t._e()]),t._v(" "),o("div",{staticClass:"basicInfo"},[o("h2",[t._v("What do you offer?")]),t._v(" "),t.view_offer?o("p",[t._v(t._s(t.view_offer))]):1==t.loaded?o("p",[t._v("Not selected")]):t._e()]),t._v(" "),o("div",{staticClass:"basicInfo"},[o("h2",[t._v("Your Services")]),t._v(" "),o("div",{staticClass:"skillBox"},[t.services&&t.services.length>0?t._l(t.services,(function(e){return o("span",{key:e.id,staticClass:"tag"},[t._v(t._s(e.tag_name))])})):1==t.loaded?[o("span",[t._v("Not added")])]:t._e()],2)])])]),t._v(" "),o("div",{staticClass:"tab-pane fade",attrs:{id:"add",role:"tabpanel"}},[o("div",{staticClass:"updateContent basicInfo"},[o("h2",{staticClass:"mt-2"},[t._v("About Business")]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Description")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{placeholder:"Write something about you"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),t.description_error?o("p",{staticClass:"text-danger"},[t._v("\n                  "+t._s(t.description_error)+"\n                ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("Founded on")]),t._v(" "),o("Datepicker",{attrs:{"selection-mode":"single",dateFormat:"dd/mm/yy",yearRange:t.rangeyear,maxDate:t.maxtodaydate,monthNavigator:!0,yearNavigator:!0,isDarkTheme:!1,hideOnDateTimeSelect:!0,placeholder:"Enter a Date",showIcon:!0},on:{"year-change":t.shows,"month-change":t.shows,show:t.shows},model:{value:t.founded_on,callback:function(e){t.founded_on=e},expression:"founded_on"}})],1)]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("label",[t._v("What do you offer?")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.offer,expression:"offer"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.offer=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"Services"}},[t._v("Services")]),t._v(" "),o("option",{attrs:{value:"Products"}},[t._v("Products")]),t._v(" "),o("option",{attrs:{value:"Both"}},[t._v("Both")])])])])]),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("h2",[t._v("Your Services")]),t._v(" "),o("ul",{staticClass:"tags"},[t.edit_services&&t.edit_services.length>0?[t._l(t.edit_services,(function(e){return[o("li",{key:e.tag_name,staticClass:"addedTag"},[t._v("\n                        "+t._s(e.tag_name)+"\n                        "),o("span",{staticClass:"tagRemove",attrs:{onclick:"$(this).parent().remove();"}},[t._v("x")]),t._v(" "),o("input",{attrs:{type:"hidden",value:"asda",name:"tags[]"}})])]}))]:t._e(),t._v(" "),t._m(2)],2),t._v(" "),o("p",[t._v("\n                  Add up to 15 services. Remove services by deleting tags.\n                ")])])]),t._v(" "),o("div",{staticClass:"col-12"},[o("div",{staticClass:"formBtnBox text-right"},[o("button",{staticClass:"btn w-auto",on:{click:t.save}},[t._v("Save")])])])])])])])]):t._e()])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"educationView"},[o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})]),t._v(" "),o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})]),t._v(" "),o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"nav nav-pills",attrs:{id:"pills-tab"}},[o("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[o("a",{staticClass:"nav-link active",attrs:{id:"pills-home-tab","data-toggle":"pill",href:"#view"}},[t._v("View")])]),t._v(" "),o("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[o("a",{staticClass:"nav-link",attrs:{id:"pills-profile-tab","data-toggle":"pill",href:"#add"}},[t._v("Update")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tagAdd taglist flexfull"},[e("input",{staticClass:"widthfull",attrs:{type:"text",id:"search-field",placeholder:"Enter skills here"}})])}],!1,null,null,null);e.default=component.exports}}]);