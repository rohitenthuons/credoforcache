(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{417:function(t,e,o){t.exports=o.p+"img/verify.3ec6fed.svg"},428:function(t,e,o){t.exports=o.p+"img/delete-circle.a3e638d.svg"},430:function(t,e,o){t.exports=o.p+"img/view-circle.8253afc.svg"},455:function(t,e,o){},496:function(t,e,o){"use strict";o(455)},559:function(t,e,o){"use strict";o.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"invitationsImg"},[e("img",{attrs:{src:o(417),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"invitationsImg"},[e("img",{attrs:{src:o(417),alt:""}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title2"},[o("span",[t._v("Notifications")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"educationView"},[o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})]),t._v(" "),o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})]),t._v(" "),o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title2"},[o("span",[t._v("Invitation For HR Role")])])}],c=(o(25),o(32),{middleware:["auth","checkLoggedIn"],layout:"maindashboard",filters:{formatTime:function(t){var e=((e=new Date(t.replace(/-/g,"/"))).getHours()>12?e.getHours()-12:e.getHours())+":"+e.getMinutes()+" "+(e.getHours()>=12?"PM":"AM"),o=new Date(t.replace(/-/g,"/"));return o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()+" ("+e+")"}},data:function(){return{cchannel:null,notifications:[],links:[],newloaded:!1,loaded:!1,showinvite:null,notificationlist:null,insideData:null,message:null,showreview:null,reviewData:null,responseDone:null,responseStatus:null,reviewError:null,acceptReject:null,confirmModel:null,confirmRmodel:null,assetUrl:"https://robob.credotree.com/"}},mounted:function(){var t=this;document.getElementsByClassName("afterLogin").length>0||(document.body.className+=" afterLogin "),this.$axios.get("https://robob.credotree.com/api/get-user-notifications").then((function(e){t.notifications=e.data.notifications.data,t.links=e.data.notifications.links,t.notificationlist=!0,t.loaded=!0,t.newloaded=!0})).catch((function(t){this.newloaded=!0}))},methods:{responseDoneBack:function(){var t=this;this.responseDone=!1,this.$axios.get("https://robob.credotree.com/api/get-user-notifications").then((function(e){t.notifications=e.data.notifications.data,t.links=e.data.notifications.links,t.notificationlist=!0,t.loaded=!0,t.newloaded=!0})).catch((function(t){this.newloaded=!0}))},showReview:function(t){var e=this;0==t.seen&&this.$store.commit("decreaseNotificationCount"),localStorage.setItem("user_review_id",t.user_review_id),localStorage.setItem("getcompanyidfromnotification",t.company_name),localStorage.setItem("getlinkidforcompany",t.link_id),this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:t.notify_id,type:t.type,user_review_id:t.user_review_id,link_id:t.link_id}).then((function(o){"cannot give review"==o.data.status?(e.notifications=o.data.notifications.data,e.links=o.data.notifications.links,e.$store.commit("rightReload"),e.reviewError=!0,e.notificationlist=!1,e.message="The review given by company",e.$store.commit("stopLoading")):"review given already"==o.data.status?(e.notifications=o.data.notifications.data,e.links=o.data.notifications.links,e.$store.commit("rightReload"),e.reviewError=!0,e.notificationlist=!1,e.message="You have given the review for company already",e.$store.commit("stopLoading")):(e.notifications=o.data.notifications.data,e.links=o.data.notifications.links,e.$store.commit("rightReload"),e.reviewData=t,e.notificationlist=!1,e.showreview=!0,localStorage.setItem("leaveOrNotification","'notification'"),e.$store.commit("stopLoading"))})).catch((function(t){this.$store.commit("stopLoading")}))},backtoNotify:function(){this.showreview=!1,this.reviewError=!1,this.notificationlist=!0},openReview:function(t){this.$router.push("/company/"+t+"/companyreview")},showInvite:function(t){var e=this;0==t.seen&&this.$store.commit("decreaseNotificationCount"),this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:t.notify_id,type:t.type}).then((function(o){e.notifications=o.data.notifications.data,e.links=o.data.notifications.links,e.$store.commit("rightReload"),e.insideData=t,e.notificationlist=!1,e.$axios.post("https://robob.credotree.com/api/get-hr-response-notify",{id:t.notify_id}).then((function(t){console.log(t),"Done"==t.data.status?(e.responseDone=!0,e.responseStatus=t.data.responseStatus):(e.showinvite=!0,e.acceptReject=!0)})).catch((function(t){}))})).catch((function(t){this.$store.commit("stopLoading")}))},submitURL:function(t){var e=this;null!=t&&(this.newloaded=!1,this.$axios.get(t).then((function(t){e.notifications=t.data.notifications.data,e.links=t.data.notifications.links,e.newloaded=!0})).catch((function(t){this.newloaded=!0})))},viewProfile:function(){this.$router.push("/my-profile")},closeAccept:function(){this.confirmModel=!1,this.notificationlist=!0},closeReject:function(){this.confirmRmodel=!1,this.notificationlist=!0},updateInvitation:function(t,e){var o=this;this.newloaded=!1,this.$axios.post("https://robob.credotree.com/api/update-invitation-hr",{action:e,id:t}).then((function(t){o.$store.commit("rightReload"),o.notifications=t.data.notifications.data,o.links=t.data.notifications.links,"Rejected"==e&&(o.acceptReject=!1,o.showinvite=!1,o.confirmRmodel=!0,o.$store.commit("leftReload"),o.newloaded=!0),"Accepted"==e&&(o.acceptReject=!1,o.showinvite=!1,o.confirmModel=!0,o.$store.commit("leftReload"),o.newloaded=!0)})).catch((function(t){this.$store.commit("leftReload"),this.newloaded=!0}))},seennotification:function(t,e,o,n,c,r,l,d){var v=this;this.message=null,0==t&&this.$store.commit("decreaseNotificationCount"),"make an offer"==o?this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:e,type:o}).then((function(t){v.notifications=t.data.notifications.data,v.links=t.data.notifications.links,v.$store.commit("rightReload"),v.$store.commit("stopLoading"),localStorage.setItem("userOffer",1),localStorage.setItem("userOfferid",d),v.$router.push("/offer")})).catch((function(t){this.$store.commit("stopLoading")})):"credopoints"==o?this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:e,type:o}).then((function(t){v.notifications=t.data.notifications.data,v.links=t.data.notifications.links,v.$store.commit("rightReload"),v.$store.commit("stopLoading"),v.$router.push("/my-profile")})).catch((function(t){this.$store.commit("stopLoading")})):"interview scheduled"==o?this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:e,type:o}).then((function(t){v.notifications=t.data.notifications.data,v.links=t.data.notifications.links,v.$store.commit("rightReload"),v.$store.commit("stopLoading"),localStorage.setItem("userInvite",1),localStorage.setItem("userInviteid",d),v.$router.push("/invitation")})).catch((function(t){this.$store.commit("stopLoading")})):"user review"==o?(localStorage.setItem("user_review_id",n),localStorage.setItem("getcompanyidfromnotification",r),localStorage.setItem("getlinkidforcompany",c),this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:e,type:o,user_review_id:n,link_id:c}).then((function(t){"cannot give review"==t.data.status?(v.message="date for giving review to the company has expired .you cannot give the review now",v.$store.commit("stopLoading")):"review given already"==t.data.status?(v.message="You have given the review for company already",v.$store.commit("stopLoading")):(v.notifications=t.data.notifications.data,v.links=t.data.notifications.links,v.$store.commit("rightReload"),v.$store.commit("stopLoading"),localStorage.setItem("leaveOrNotification","'notification'"),v.$router.push("/company/"+l+"/companyreview"))})).catch((function(t){this.$store.commit("stopLoading")}))):"past employee"==o||"verify employee"==o?this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:e,type:o}).then((function(t){v.notifications=t.data.notifications.data,v.links=t.data.notifications.links,v.$store.commit("rightReload"),v.$router.push("/employment"),v.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")})):"Hr Removed"==o?this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:e,type:o}).then((function(t){v.notifications=t.data.notifications.data,v.links=t.data.notifications.links,v.$store.commit("rightReload"),v.$router.push("/hr-role"),v.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")})):this.$axios.post("https://robob.credotree.com/api/seen-notification",{id:e,type:o}).then((function(t){v.notifications=t.data.notifications.data,v.links=t.data.notifications.links,v.$store.commit("rightReload"),v.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))},deletenotification:function(t,e){var o=this;0==t&&this.$store.commit("decreaseNotificationCount"),this.newloaded=!1,this.$axios.post("https://robob.credotree.com/api/delete-notification",{id:e}).then((function(t){o.$store.commit("rightReload"),o.notifications=t.data.notifications.data,o.links=t.data.notifications.links,o.newloaded=!0})).catch((function(t){this.newloaded=!0}))}}}),r=(o(496),o(24)),component=Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-7 col-md-6 mb-3 mb-md-0"},[1==t.confirmRmodel?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[n("div",{staticClass:"invitationsBox success"},[t._m(0),t._v(" "),n("p",[t._v("Rejected successfully")]),t._v(" "),n("p",[t._v("\n           You have rejected the invitation successfully\n          ")]),t._v(" "),n("div",{staticClass:"formBtnBox"},[n("button",{staticClass:"btn w-auto",on:{click:t.closeReject}},[t._v("Back")])])])])]):t._e(),t._v(" "),1==t.confirmModel?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[n("div",{staticClass:"invitationsBox success"},[t._m(1),t._v(" "),n("p",[t._v("Accepted successfully")]),t._v(" "),n("p",[t._v("\n           You have successfully accepted the invitation. Now you can access\n            the company page by click on navigation\n          ")]),t._v(" "),n("div",{staticClass:"formBtnBox"},[n("button",{staticClass:"btn w-auto",on:{click:t.closeAccept}},[t._v("Back")])])])])]):t._e(),t._v(" "),1==t.notificationlist?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent notification"},[t._m(2),t._v(" "),0==t.newloaded?[t._m(3)]:t._e(),t._v(" "),t.notifications.length>0&&1==t.newloaded?t._l(t.notifications,(function(e){return n("div",{key:e.notify_id,staticClass:"notificationBox",class:["1"==e.seen?"read":""]},["Hr invitation"==e.type?n("div",[n("div",{staticClass:"profileImg"},[n("img",{attrs:{src:t.assetUrl+"companyimage/"+e.company_image,alt:""}})]),t._v(" "),n("div",{staticClass:"notifText"},[n("h4",[t._v("\n                  "+t._s(e.company_name)),n("span",[t._v(" invited for hr role")])]),t._v(" "),n("p",[t._v(t._s(t._f("formatTime")(e.notify_created_at)))])]),t._v(" "),n("div",{staticClass:"notifBtn"},[n("a",{on:{click:function(o){return t.showInvite(e)}}},[n("img",{attrs:{src:o(430),alt:""}})]),t._v(" "),n("a",{on:{click:function(o){return t.deletenotification(e.seen,e.notify_id)}}},[n("img",{attrs:{src:o(428),alt:""}})])])]):"Hr Removed"==e.type||"make an offer"==e.type?n("div",[n("div",{staticClass:"profileImg"},[n("img",{attrs:{src:t.assetUrl+"companyimage/"+e.company_image,alt:""}})]),t._v(" "),n("div",{staticClass:"notifText"},[n("h4",[n("span",[t._v(" "+t._s(e.message))])]),t._v(" "),n("p",[t._v(t._s(t._f("formatTime")(e.notify_created_at)))])]),t._v(" "),n("div",{staticClass:"notifBtn"},[n("a",{on:{click:function(o){return t.seennotification(e.seen,e.notify_id,e.type,e.user_review_id,e.link_id,e.company_name,e.company_slug,e.interview_id)}}},[n("img",{attrs:{src:o(430),alt:""}})]),t._v(" "),n("a",{on:{click:function(o){return t.deletenotification(e.seen,e.notify_id)}}},[n("img",{attrs:{src:o(428),alt:""}})])])]):"interview scheduled"==e.type?n("div",[n("div",{staticClass:"profileImg"},[n("img",{attrs:{src:t.assetUrl+"companyimage/"+e.company_image,alt:""}})]),t._v(" "),n("div",{staticClass:"notifText"},[n("h4",[n("span",[t._v(t._s(e.message))])]),t._v(" "),n("p",[t._v(t._s(t._f("formatTime")(e.notify_created_at)))])]),t._v(" "),n("div",{staticClass:"notifBtn"},[n("a",{on:{click:function(o){return t.seennotification(e.seen,e.notify_id,e.type,e.user_review_id,e.link_id,e.company_name,e.company_slug,e.interview_id)}}},[n("img",{attrs:{src:o(430),alt:""}})]),t._v(" "),n("a",{on:{click:function(o){return t.deletenotification(e.seen,e.notify_id)}}},[n("img",{attrs:{src:o(428),alt:""}})])])]):"user review"==e.type?n("div",[n("div",{staticClass:"profileImg"},[n("img",{attrs:{src:t.assetUrl+"companyimage/"+e.company_image,alt:""}})]),t._v(" "),n("div",{staticClass:"notifText"},[n("h4",[n("span",[t._v(t._s(e.message))])]),t._v(" "),n("p",[t._v(t._s(t._f("formatTime")(e.notify_created_at)))])]),t._v(" "),n("div",{staticClass:"notifBtn"},[n("a",{on:{click:function(o){return t.showReview(e)}}},[n("img",{attrs:{src:o(430),alt:""}})]),t._v(" "),n("a",{on:{click:function(o){return t.deletenotification(e.seen,e.notify_id)}}},[n("img",{attrs:{src:o(428),alt:""}})])])]):n("div",[n("div",{staticClass:"profileImg"},[n("img",{attrs:{src:t.assetUrl+"companyimage/"+e.company_image,alt:""}})]),t._v(" "),n("div",{staticClass:"notifText"},[n("h4",[n("span",[t._v(t._s(e.message))])]),t._v(" "),n("p",[t._v(t._s(t._f("formatTime")(e.notify_created_at)))])]),t._v(" "),n("div",{staticClass:"notifBtn"},[n("a",{on:{click:function(o){return t.seennotification(e.seen,e.notify_id,e.type,e.user_review_id,e.link_id,e.company_name,e.company_slug,e.interview_id)}}},[n("img",{attrs:{src:o(430),alt:""}})]),t._v(" "),n("a",{on:{click:function(o){return t.deletenotification(e.seen,e.notify_id)}}},[n("img",{attrs:{src:o(428),alt:""}})])])])])})):t._e(),t._v(" "),0==t.notifications.length&&1==t.newloaded?[n("p",[t._v("There is no notification available for you.")])]:t._e(),t._v(" "),n("div",{staticClass:"paginationBox"},[n("nav",{attrs:{"aria-label":"Page navigation example"}},[n("ul",{staticClass:"pagination"},[t.notifications.length>0&&t.links.length>3?[t._l(t.links,(function(e){return[n("li",{key:e.id,staticClass:"page-item",class:[1==e.active?"active":""]},["&laquo; Previous"==e.label?n("a",{staticClass:"page-link prev",attrs:{"aria-label":"Previous"},on:{click:function(o){return t.submitURL(e.url)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])]):"Next &raquo;"==e.label?n("a",{staticClass:"page-link prev",attrs:{"aria-label":"Previous"},on:{click:function(o){return t.submitURL(e.url)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])]):n("a",{staticClass:"page-link",on:{click:function(o){return t.submitURL(e.url)}}},[t._v(t._s(e.label))])])]}))]:t._e()],2)])])],2)]):t._e(),t._v(" "),1==t.responseDone?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[n("div",{staticClass:"invitationText"},[n("div",["Accepted"==t.responseStatus?n("span",[n("p",[t._v("You have already accepted the invitation, check your details ")])]):n("span",[n("p",[t._v("You have already rejected the Hr role invitation")])])]),t._v(" "),n("div",{staticClass:"formBtnBox"},[n("NuxtLink",{attrs:{to:"/hr-role"}},["Accepted"==t.responseStatus?n("a",{staticClass:"btn w-auto",attrs:{href:"/hr-role"}},[t._v("Hr Role")]):t._e()]),t._v(" "),null==t.responseStatus?n("button",{staticClass:"btn w-auto",on:{click:t.responseDoneBack}},[t._v("\n              Back\n            ")]):t._e()],1)])])]):t._e(),t._v(" "),1==t.reviewError?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[n("div",{staticClass:"invitationText"},[n("div",[n("span",[t._v(t._s(t.message))])]),t._v(" "),n("div",{staticClass:"formBtnBox"},[n("button",{staticClass:"btn outline w-auto",on:{click:function(e){return t.backtoNotify()}}},[t._v("\n              Back\n            ")]),t._v(" "),"The review given by company"==t.message?n("button",{staticClass:"btn outline w-auto",on:{click:t.viewProfile}},[t._v("\n              View Profile\n            ")]):t._e()])])])]):t._e(),t._v(" "),1==t.showreview?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[n("div",{staticClass:"invitationText"},[n("div",[n("span",[t._v(t._s(t.reviewData.company_name))]),t._v(" has given review to you\n            "),n("br"),t._v("\n            For view that review, please provide review to the company first.\n          ")]),t._v(" "),n("div",{staticClass:"formBtnBox"},[n("button",{staticClass:"btn outline w-auto",on:{click:function(e){return t.backtoNotify()}}},[t._v("\n              Back\n            ")]),t._v(" "),n("button",{staticClass:"btn w-auto",on:{click:function(e){return t.openReview(t.reviewData.company_slug)}}},[t._v("\n             Give Review\n            ")])])])])]):t._e(),t._v(" "),1==t.showinvite?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[t._m(4),t._v(" "),n("div",{staticClass:"invitationText"},[n("div",[t._v("\n            You Got a HR Role Invitation from "),n("br"),t._v(" "),n("span",[t._v(t._s(t.insideData.company_name))]),t._v(" "),n("br"),t._v("\n            You can accept or reject it.\n          ")]),t._v(" "),1==t.acceptReject?n("div",{staticClass:"formBtnBox"},[n("button",{staticClass:"btn outline w-auto",on:{click:function(e){return t.updateInvitation(t.insideData.notify_id,"Rejected")}}},[t._v("\n              Reject\n            ")]),t._v(" "),n("button",{staticClass:"btn w-auto",on:{click:function(e){return t.updateInvitation(t.insideData.notify_id,"Accepted")}}},[t._v("\n              Accept\n            ")])]):t._e()])])]):t._e()])}),n,!1,null,null,null);e.default=component.exports}}]);