(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{416:function(t,e,o){t.exports=o.p+"img/error.2dc37a0.svg"},473:function(t,e,o){},515:function(t,e,o){"use strict";o(473)},597:function(t,e,o){"use strict";o.r(e);var n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"educationView"},[o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})]),t._v(" "),o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})]),t._v(" "),o("div",{staticClass:"contentLoader"},[o("div",{staticClass:"text-line"}),t._v(" "),o("h4",{staticClass:"text-line"}),t._v(" "),o("p",{staticClass:"text-line"})])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"nav nav-pills",attrs:{id:"pills-tab"}},[o("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[o("a",{staticClass:"nav-link active",attrs:{id:"pills-home-tab","data-toggle":"pill",href:"#view"}},[t._v("View")])]),t._v(" "),o("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[o("a",{staticClass:"nav-link",attrs:{id:"pills-profile-tab","data-toggle":"pill",href:"#add"}},[t._v("Update")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aleartImg"},[e("img",{attrs:{src:o(416),alt:""}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"aleartText faild"},[o("span",[t._v("Sorry,")]),t._v(" it seems error/s, please fix it.\n              ")])}],c=(o(25),o(44),o(85),o(56),o(13),o(86),o(32),o(50),o(199),o(34),{middleware:["auth","companyaccess","checkLoggedIn"],layout:"companymaindashboard",data:function(){return{description:null,description_error:null,view_description:null,view_founded:null,founded_on:null,date_error:null,offer:"Services",offer_error:null,view_offer:null,services:[],skillcount:0,initialcount:15,checkcount:0,view_services:[],edit_services:[],success:null,company_slug:null,todayDate:(new Date).toISOString().split("T")[0],loaded:!1,listItems:null,rangeyear:"",step:!1,newloaded:!1,disabledDates:{from:new Date(2016,0,26)}}},computed:{maxtodaydate:function(){var t=new Date(this.todayDate),e=t.getDate(),o=t.getMonth(),n=t.getFullYear();return new Date(n,o,e)},years:function(){var t=(new Date).getFullYear();return Array.from({length:t-1970},(function(e,o){return t-o}))}},mounted:function(){var t=this;document.getElementsByClassName("afterLogin").length>0||(document.body.className+="afterLogin");var e=(new Date).getFullYear();this.rangeyear="1940:"+e;var o=new Date(this.todayDate),n=new Date(o),c=n.getDate(),r=n.getMonth();e=n.getFullYear();this.disabledDates.from=new Date(e,r,c),1==localStorage.getItem("companyinfoadd")&&(localStorage.removeItem("companyinfoadd"),$('.nav-item a[href="#add"]').tab("show")),this.company_slug=this.$route.params.slug,this.$axios.post("https://robob.credotree.com/api/view-company-basicinfo",{company_slug:this.company_slug}).then((function(e){t.newloaded=!0,t.step=!0;try{t.view_founded=e.data.company_info.founded_date,t.founded_on=new Date(e.data.company_info.founded_date)}catch(t){}try{t.view_description=e.data.company_info.description,t.description=e.data.company_info.description}catch(t){}try{t.view_offer=e.data.offer,"Products and Service"==e.data.offer?t.offer="Both":t.offer=e.data.offer}catch(t){}try{t.services=e.data.services,t.edit_services=e.data.services;for(var i=0;i<t.services.length;i++)t.checkcount+=1;t.checkcount>0&&t.checkcount<15?t.skillcount=15-t.checkcount:t.skillcount=t.checkcount}catch(t){}t.loaded=!0})).catch((function(t){})),this.$store.commit("rightReload")},methods:{testEmpty:function(t){return null==t?0:t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")},shows:function(){var t=this.maxtodaydate.getMonth(),e=this.maxtodaydate.getFullYear();setTimeout((function(){$(".p-datepicker-month").each((function(){$(this).children("option").show()})),e==$(".p-datepicker-year").val()&&$(".p-datepicker-month > option").each((function(){t<$(this).val()&&$(this).remove()}))}),100)},countskill:function(){this.checkcount=0;for(var t=document.getElementsByClassName("addedTag"),i=0;i<t.length;i++)this.checkcount+=1;this.checkcount<15?this.skillcount=15-this.checkcount:this.skillcount=this.checkcount},closeRightSuccess:function(){this.success=null},scroll:function(){$(document).on("click",'a[href^="#"]',(function(t){var e=$(this).attr("href"),o=$(e);if(0!==o.length){t.preventDefault();var n=o.offset().top;return $("body, html").animate({scrollTop:n}),!1}}))},save:function(){var t=this,e=o(71);if(this.count=0,this.success=null,this.view_services.splice(0,this.view_services.length),this.testEmpty(this.description)<=0&&(this.description_error="Please fill this field",this.count+=1),this.description&&this.description.length>5e3&&(this.description_error="Summary cannot be more than 5000 characters",this.count+=1),null==this.founded_on&&(this.date_error="Please fill this field",this.count+=1),this.count>0)return this.$store.commit("stopLoading"),this.success=!1,void this.scroll();this.listItems=document.getElementsByClassName("addedTag");for(var i=0;i<this.listItems.length;i++)this.view_services.push(this.listItems[i].innerText.slice(0,-1));var n=e(this.founded_on).format("YYYY-MM-DD");this.$store.commit("startLoading"),this.$axios.post("https://robob.credotree.com/api/update-company-info",{company_slug:this.company_slug,description:this.description,founded_on:n,services:this.view_services}).then((function(e){try{t.description_error=e.data.response.description[0],t.$store.commit("stopLoading")}catch(t){}try{t.date_error=e.data.response.founded_on[0],t.$store.commit("stopLoading")}catch(t){}try{if("success"==e.data.status){t.view_description=e.data.company_info.description,t.view_founded=e.data.company_info.founded_date,t.view_offer=e.data.offer,t.services.splice(0,t.services.length),t.edit_services.splice(0,t.edit_services.length),$(".static").remove(),t.edit_services=e.data.refresh_tags,t.services=e.data.refresh_tags;for(var i=0;i<t.services.length;i++)t.checkcount+=1;t.checkcount>0&&t.checkcount<15?t.skillcount=15-t.checkcount:t.skillcount=t.checkcount,$('.nav-item a[href="#view"]').tab("show"),t.scroll()}}catch(t){}t.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))}}}),r=(o(515),o(24)),component=Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-7 col-md-6 mb-3 mb-md-0"},[0==t.newloaded?n("div",[t._m(0)]):t._e(),t._v(" "),1==t.step?n("div",{staticClass:"updateBox",attrs:{id:"ach"}},[t._m(1),t._v(" "),n("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[n("div",{staticClass:"tab-pane fade show active",attrs:{id:"view",role:"tabpanel"}},[n("div",{staticClass:"updateContent"},[n("div",{staticClass:"basicInfo"},[n("h2",[t._v("About")]),t._v(" "),t.view_description?n("p",[t._v(t._s(t.view_description))]):1==t.loaded?n("p",[t._v("No description added")]):t._e()]),t._v(" "),n("div",{staticClass:"basicInfo"},[n("h2",[t._v("Founded on")]),t._v(" "),t.view_founded?n("p",[t._v(t._s(t.view_founded))]):1==t.loaded?n("p",[t._v("Not added")]):t._e()]),t._v(" "),n("div",{staticClass:"basicInfo"},[n("h2",[t._v("What do you offer?")]),t._v(" "),t.view_offer?n("p",[t._v(t._s(t.view_offer))]):1==t.loaded?n("p",[t._v("Not selected")]):t._e()]),t._v(" "),n("div",{staticClass:"basicInfo"},[n("h2",[t._v("Your Services")]),t._v(" "),n("div",{staticClass:"skillBox"},[t.services&&t.services.length>0?t._l(t.services,(function(e){return n("span",{key:e.id,staticClass:"tag"},[t._v(t._s(e.tag_name))])})):1==t.loaded?[n("span",[t._v("Not added")])]:t._e()],2)])])]),t._v(" "),n("div",{staticClass:"tab-pane fade",attrs:{id:"add",role:"tabpanel"}},[0==t.success?[n("div",{staticClass:"aleartBox error"},[n("span",{staticClass:"close",on:{click:t.closeRightSuccess}},[n("img",{attrs:{src:o(309),alt:""}})]),t._v(" "),t._m(2),t._v(" "),t._m(3)])]:t._e(),t._v(" "),n("div",{staticClass:"updateContent basicInfo"},[n("h2",{staticClass:"mt-2"},[t._v("About Business")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Description")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{placeholder:"Write something about your business."},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),t.description_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.description_error)+"\n                ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Founded on")]),t._v(" "),n("Datepicker",{attrs:{"selection-mode":"single",dateFormat:"dd/mm/yy",yearRange:t.rangeyear,maxDate:t.maxtodaydate,monthNavigator:!0,yearNavigator:!0,isDarkTheme:!1,hideOnDateTimeSelect:!0,placeholder:"Enter a Date",showIcon:!0},on:{"year-change":t.shows,"month-change":t.shows,show:t.shows},model:{value:t.founded_on,callback:function(e){t.founded_on=e},expression:"founded_on"}}),t._v(" "),t.date_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.date_error)+"\n                ")]):t._e()],1)])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group formBox"},[n("h2",[t._v("Your Services")]),t._v(" "),n("ul",{staticClass:"tags"},[t.edit_services&&t.edit_services.length>0?[t._l(t.edit_services,(function(e){return[n("li",{key:e.tag_name,staticClass:"addedTag"},[t._v("\n                        "+t._s(e.tag_name)+"\n                        "),n("span",{staticClass:"tagRemove",attrs:{onclick:"$(this).parent().remove();"}},[t._v("x")]),t._v(" "),n("input",{attrs:{type:"hidden",value:"asda",name:"tags[]"}})])]}))]:t._e(),t._v(" "),n("li",{staticClass:"tagAdd taglist flexfull"},[n("input",{staticClass:"widthfull",attrs:{type:"text",id:"search-field",placeholder:"Enter service here"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.countskill.apply(null,arguments)}}})])],2),t._v(" "),0==t.skillcount?n("p",[t._v("\n                  (Add up to "+t._s(t.initialcount)+" services. Remove services by\n                  deleting tags.)\n                ")]):t._e(),t._v(" "),t.skillcount>0&&t.skillcount<15?n("p",[t._v("\n                  (Add up to "+t._s(t.skillcount)+" services. Remove services by\n                  deleting tags.)\n                ")]):t._e(),t._v(" "),15==t.skillcount?n("p",[t._v("Delete services to add more")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"formBtnBox text-right"},[n("a",{staticClass:"btn w-auto",attrs:{href:"#ach"},on:{click:t.save}},[t._v("Save")])])])])])],2)])]):t._e()])}),n,!1,null,null,null);e.default=component.exports}}]);