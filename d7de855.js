(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{416:function(t,e,r){t.exports=r.p+"img/error.2dc37a0.svg"},431:function(t,e,r){t.exports=r.p+"img/edit.8faff52.svg"},572:function(t,e,r){"use strict";r.r(e);var o,n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-lg-2 col-md-3 pl-1"},[r("div",{staticClass:"profileLftSB"},[r("p",[t._v("\n             A completed profile attract more companies to you and increase success rate in shortlisting and job success.\n          ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title2",attrs:{id:"ach"}},[r("span",[t._v("Complete your profile")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aleartImg"},[e("img",{attrs:{src:r(416),alt:""}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"aleartText faild"},[r("span",[t._v("Sorry,")]),t._v(" it seems error/s, please fix it.\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"edit"},[e("img",{attrs:{src:r(431),alt:""}})])}],l=r(3),c=(r(25),r(44),r(33),r(56),r(64),r(111),r(50),r(32),{layout:"afterlogin",middleware:["auth","mainprofile"],components:{CustomCalendar:r(488).default},data:function(){return{cchannel:null,firstname:null==this.$auth.user.first_name?"":this.$auth.user.first_name,lastname:null==this.$auth.user.last_name?null:this.$auth.user.last_name,dob:null,mobile:null==this.$auth.user.mobile?"":this.$auth.user.mobile,address:null==this.$auth.user.current_address?null:this.$auth.user.current_address,city:null==this.$auth.user.city?null:this.$auth.user.city,country:null==this.$auth.user.country?null:this.$auth.user.country,image:null==this.$auth.user.image_id?null:this.fetchImage(),url:null,firstname_error:"",lastname_error:"",dob_error:"",mobile_error:"",address_error:"",city_error:"",country_error:"",image_error:"",count:0,success:null,minbirthdate:0,maxbirthdate:0,rangeDate:"",todayDate:(new Date).toISOString().split("T")[0],disabledDates:{to:new Date(2016,0,5),from:new Date(2016,0,26)},show:!1,params:{token:"123456798",name:"avatar"},headers:{smail:"*_~"},maxdate:null,renderDate:0}},mounted:function(){document.getElementsByClassName("afterLogin").length>0||(document.body.className+=" afterLogin ");var t=new Date;t.setFullYear(t.getFullYear()-14),this.maxdate=t;var e=new Date(this.todayDate);e.setFullYear(e.getFullYear()-80);var r=new Date(e);this.minbirthdate=r.getFullYear();var o=new Date(this.todayDate);o.setFullYear(o.getFullYear()-14);var n=new Date(o);this.maxbirthdate=n.getFullYear(),this.rangeDate=this.minbirthdate+":"+this.maxbirthdate},computed:{maxbirthDate:function(){var t=new Date(this.todayDate);t.setDate(1),t.setMonth(0),t.setFullYear(t.getFullYear()-14);var e=new Date(t);if((r=e.getDate())<10)var r="0"+r;if((o=e.getMonth()+1)<10)var o="0"+o;return e.getFullYear()+"-"+o+"-"+r},minbirthDate:function(){var t=new Date(this.todayDate);t.setDate(1),t.setMonth(0),t.setFullYear(t.getFullYear()-80);var e=new Date(t);if((r=e.getDate())<10)var r="0"+r;if((o=e.getMonth()+1)<10)var o="0"+o;return e.getFullYear()+"-"+o+"-"+r}},methods:(o={scroll:function(){$(document).on("click",'a[href^="#"]',(function(t){var e=$(this).attr("href"),r=$(e);if(0!==r.length){t.preventDefault();var o=r.offset().top;return $("body, html").animate({scrollTop:o}),!1}}))},closeRightSuccess:function(){this.success=null},customFormatter:function(t){return r(71)(t).format("YYYY-MM-DD")},toggleShow:function(){this.show=!this.show},cropSuccess:function(t,e){var r=this;this.url=t,fetch(this.url).then((function(t){return t.blob()})).then((function(t){r.image=new File([t],"File name",{type:"image/png"})}))},cropUploadSuccess:function(t,e){},cropUploadFail:function(t,e){}},Object(l.a)(o,"closeRightSuccess",(function(){this.successLeft=null})),Object(l.a)(o,"fetchImage",(function(){var t=this;this.$axios.get("https://robob.credotree.com/api/getimage/"+this.$auth.user.image_id,{headers:{"content-type":"image/png",accept:"image/png"},responseType:"blob"}).then((function(e){var r=window.URL||window.webkitURL;t.url=r.createObjectURL(e.data)})).catch((function(t){}))})),Object(l.a)(o,"onFileChange",(function(t){try{this.image=t.target.files[0],this.url=URL.createObjectURL(this.image)}catch(t){}})),Object(l.a)(o,"hide",(function(){this.renderDate+=1})),Object(l.a)(o,"shows",(function(){var t=this.maxdate.getMonth(),e=this.maxdate.getFullYear();setTimeout((function(){$(".p-datepicker-month").each((function(){$(this).children("option").show()})),e==$(".p-datepicker-year").val()&&$(".p-datepicker-month > option").each((function(){t<$(this).val()&&$(this).remove()}))}),100)})),Object(l.a)(o,"save",(function(){var t=this,e=r(71);if(this.$store.commit("startLoading"),this.firstname_error=null,this.lastname_error=null,this.dob_error=null,this.mobile_error=null,this.address_error=null,this.success=null,this.city_error=null,this.country_error=null,this.image_error=null,this.count=0,null==this.image&&(this.image_error="Please select image!",this.count+=1),null==this.firstname&&(this.firstname_error="Please select first name!",this.count+=1),null==this.lastname&&(this.lastname_error="Please select last name!",this.count+=1),10!=this.mobile.replace(/\s+/g,"").length&&(this.mobile_error="Please enter 10 digits",this.count+=1),null==this.address&&(this.address_error="Please fill this field!",this.count+=1),null==this.city&&(this.city_error="Please fill this field!",this.count+=1),null==this.dob&&(this.dob_error="Please enter date of birth!",this.count+=1),null==this.country&&(this.country_error="Please fill this field!",this.count+=1),0!=this.count)return this.$store.commit("stopLoading"),this.success=!1,void this.scroll();var o=e(this.dob).format("YYYY-MM-DD"),data=new FormData;data.append("file",this.image),data.append("firstname",this.firstname),data.append("lastname",this.lastname),data.append("dob",o),data.append("mobile",this.mobile),data.append("address",this.address),data.append("city",this.city),data.append("country",this.country),this.$axios.post("https://robob.credotree.com/api/update-profile-info",data,{headers:{"content-type":"multipart/form-data"}}).then((function(e){"success"==e.data.status&&t.$auth.fetchUser().then((function(e){t.$store.commit("stopLoading"),t.$router.push("/basicinfo")})),e.data.response.file&&null!=e.data.response.file[0]&&(t.image_error=e.data.response.file[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),e.data.response.firstname&&null!=e.data.response.firstname[0]&&(t.firstname_error=e.data.response.firstname[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),e.data.response.lastname&&null!=e.data.response.lastname[0]&&(t.lastname_error=e.data.response.lastname[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),e.data.response.dob&&null!=e.data.response.dob[0]&&(t.dob_error=e.data.response.dob[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),e.data.response.mobile&&null!=e.data.response.mobile[0]&&(t.mobile_error=e.data.response.mobile[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),e.data.response.address&&null!=e.data.response.address[0]&&(t.address_error=e.data.response.address[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),e.data.response.city&&null!=e.data.response.city[0]&&(t.city_error=e.data.response.city[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),e.data.response.country&&null!=e.data.response.country[0]&&(t.country_error=e.data.response.country[0],t.$store.commit("stopLoading"),t.success=!1,t.scroll()),t.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))})),o)}),m=r(24),component=Object(m.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"mainSection"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[t._m(0),t._v(" "),o("div",{staticClass:"col-lg-7 col-md-6"},[o("div",{staticClass:"profileBox"},[t._m(1),t._v(" "),0==t.success?[o("div",{staticClass:"aleartBox error"},[o("span",{staticClass:"close",on:{click:t.closeRightSuccess}},[o("img",{attrs:{src:r(309),alt:""}})]),t._v(" "),t._m(2),t._v(" "),t._m(3)])]:t._e(),t._v(" "),o("div",{staticClass:"userProfile"},[o("label",{staticClass:"profileImg"},[o("input",{on:{click:t.toggleShow}}),t._v(" "),t.url?o("img",{staticClass:"image-style",attrs:{src:t.url}}):o("img",{attrs:{src:r(198),alt:""}}),t._v(" "),t._m(4)]),t._v(" "),o("p",[t._v("(Use your real pic with minimum 300x300 size)")]),t._v(" "),t.image_error?o("p",{staticClass:"errorText"},[t._v(t._s(t.image_error))]):t._e()]),t._v(" "),o("client-only",[o("my-upload",{attrs:{langType:"en",field:"img",noSquare:!0,width:300,height:300,params:t.params,headers:t.headers,"img-format":"png"},on:{"crop-success":t.cropSuccess,"crop-upload-success":t.cropUploadSuccess,"crop-upload-fail":t.cropUploadFail},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1),t._v(" "),o("div",{staticClass:"profileForm"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group formBox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}}),t._v(" "),t.firstname_error?o("div",{staticClass:"errorText"},[t._v("\n                    "+t._s(t.firstname_error)+"\n                  ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group formBox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),t._v(" "),t.lastname_error?o("div",{staticClass:"errorText"},[t._v("\n                    "+t._s(t.lastname_error)+"\n                  ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group formBox"},[o("client-only",[o("CustomCalendar",{attrs:{dateFormat:"dd/mm/yy",maxDate:t.maxdate,"selection-mode":"single",yearRange:t.rangeDate,monthNavigator:!0,yearNavigator:!0,isDarkTheme:!1,hideOnDateTimeSelect:!0,placeholder:"Date of Birth",showIcon:!0},on:{"year-change":t.shows,"month-change":t.shows,hide:t.hide,show:t.shows},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})],1),t._v(" "),t.dob_error?o("div",{staticClass:"errorText"},[t._v("\n                    "+t._s(t.dob_error)+"\n                  ")]):t._e()],1)]),t._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group formBox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"form-control",attrs:{type:"text",maxlength:"10",placeholder:"Mobile No"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),t.mobile_error?o("div",{staticClass:"errorText"},[t._v("\n                    "+t._s(t.mobile_error)+"\n                  ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"form-group formBox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Curent Address"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),t.address_error?o("div",{staticClass:"errorText"},[t._v("\n                    "+t._s(t.address_error)+"\n                  ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group formBox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"City"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),t._v(" "),t.city_error?o("div",{staticClass:"errorText"},[t._v("\n                    "+t._s(t.city_error)+"\n                  ")]):t._e()])]),t._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group formBox"},[o("client-only",[o("country-select",{staticClass:"form-control",attrs:{country:t.country,autocomplete:!0,countryName:!0,topCountry:"US"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),t._v(" "),t.country_error?o("div",{staticClass:"errorText"},[t._v("\n                    "+t._s(t.country_error)+"\n                  ")]):t._e()],1)]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"formBtnBox"},[o("a",{staticClass:"btn",attrs:{href:"#ach"},on:{click:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[t._v("Save")])])])])])],2)]),t._v(" "),o("div",{staticClass:"col-lg-3 col-md-3"})])])])}),n,!1,null,null,null);e.default=component.exports}}]);