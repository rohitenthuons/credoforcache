(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{444:function(t,e,l){t.exports=l.p+"img/company-leave.faca753.png"},555:function(t,e,l){"use strict";l.r(e);var n=[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"title2"},[l("span",[t._v("Hr Roles")]),t._v(" "),l("br")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aleartImg"},[e("img",{attrs:{src:l(310),alt:""}})])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"aleartText"},[l("span",[t._v("Success!,")]),t._v(" you have leaved the hr role of this company\n                successfully\n              ")])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"educationView"},[l("div",{staticClass:"contentLoader"},[l("div",{staticClass:"text-line"}),t._v(" "),l("h4",{staticClass:"text-line"}),t._v(" "),l("p",{staticClass:"text-line"})]),t._v(" "),l("div",{staticClass:"contentLoader"},[l("div",{staticClass:"text-line"}),t._v(" "),l("h4",{staticClass:"text-line"}),t._v(" "),l("p",{staticClass:"text-line"})]),t._v(" "),l("div",{staticClass:"contentLoader"},[l("div",{staticClass:"text-line"}),t._v(" "),l("h4",{staticClass:"text-line"}),t._v(" "),l("p",{staticClass:"text-line"})])])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"listRow rowHead"},[l("div",{staticClass:"listCell sn"},[t._v("#")]),t._v(" "),l("div",{staticClass:"listCell info"},[t._v("Company")]),t._v(" "),l("div",{staticClass:"listCell Action"},[t._v("Action")])])}],o=(l(50),{middleware:["auth","maindashboard","checkLoggedIn"],layout:"maindashboard",data:function(){return{timeout:null,debouncedInput:"",searchUsers:[],companySlug:null,successSent:null,HrCompany:null,HrRole:null,step1:!0,successLeft:null,step2:!1,errorSent:null,Hrlists:[],links:[],loaded:!1,erroremail:null,emailsuccess:null,assetUrl:"https://robob.credotree.com/"}},mounted:function(){var t=this;document.getElementsByClassName("afterLogin").length>0||(document.body.className+=" afterLogin "),this.companySlug=localStorage.getItem("credoActiveCompanySlug"),this.$axios.get("https://robob.credotree.com/api/get-user-hr-list").then((function(e){t.Hrlists=e.data.data,t.links=e.data.links,t.loaded=!0})).catch((function(t){}))},computed:{input:{get:function(){return this.debouncedInput},set:function(t){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.errorSent=null,e.emailsuccess=null,e.erroremail=null,e.successSent=null,e.searchUsers=[],e.debouncedInput=t,null!=e.debouncedInput&&""!=e.debouncedInput&&(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e.debouncedInput)?(e.$store.commit("startLoading"),e.$axios.get("https://robob.credotree.com/api/search_user/"+e.debouncedInput).then((function(t){e.searchUsers=t.data,0==e.searchUsers.length&&(e.emailsuccess=!0),e.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))):e.erroremail="Enter valid email id")}),1e3)}}},methods:{submitURL:function(t){var e=this;null!=t&&(this.$store.commit("startLoading"),this.companySlug=localStorage.getItem("credoActiveCompanySlug"),this.$axios.post(t,{companySlug:this.companySlug}).then((function(t){e.Hrlists=t.data.data,e.links=t.data.links,e.$store.commit("stopLoading")})).catch((function(t){})))},ResponseModal:function(t,e){this.HrCompany=t,this.HrRole=e,this.$bvModal.show("editModal")},removeUser:function(){var t=this;this.$store.commit("startLoading"),this.$axios.post("https://robob.credotree.com/api/remove-user-hr",{company_id:this.HrCompany,role_id:this.HrRole}).then((function(e){t.$bvModal.hide("editModal"),t.Hrlists=e.data.data,t.links=e.data.links,t.successLeft=!0,t.HrCompany=null,t.HrRole=null,t.$store.commit("rightReload"),t.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))},closeRightSuccess:function(){this.successLeft=null},back:function(){this.step1=!0,this.step2=!1}}}),c=l(24),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-7 col-md-6 mb-3 mb-md-0"},[n("b-modal",{ref:"confirmModal",attrs:{centered:"",id:"editModal","hide-footer":"","hide-header":"",title:"Using Component Methods"}},[n("div",{staticClass:"d-block"},[n("div",[n("label",[t._v("Are you sure you want to remove Hr access for this Company?")]),t._v(" "),n("div",{staticClass:"formBtnBox"},[n("b-button",{staticClass:"mt-2 ml-2 btn w-auto outline",on:{click:function(e){return t.$bvModal.hide("editModal")}}},[t._v("No")]),t._v(" "),n("b-button",{staticClass:"mt-2 mr-2 btn w-auto",on:{click:t.removeUser}},[t._v("Yes")])],1)])])]),t._v(" "),1==t.step1?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[t._m(0),t._v(" "),1==t.successLeft?[n("div",{staticClass:"aleartBox success"},[n("span",{staticClass:"close",on:{click:t.closeRightSuccess}},[n("img",{attrs:{src:l(309),alt:""}})]),t._v(" "),t._m(1),t._v(" "),t._m(2)])]:t._e(),t._v(" "),0==t.loaded?[t._m(3)]:t._e(),t._v(" "),0==t.Hrlists.length&&1==t.loaded?[n("div",{staticClass:"text-center"},[t._v("No hr roles available for you")])]:t._e(),t._v(" "),t.Hrlists&&t.Hrlists.length>0?[n("div",{staticClass:"invitationsBox"},[n("div",{staticClass:"listSec"},[t._m(4),t._v(" "),t._l(t.Hrlists,(function(e,o){return n("div",{key:e.id,staticClass:"listRow"},[n("div",{staticClass:"listCell sn"},[t._v(t._s(o+1))]),t._v(" "),n("div",{staticClass:"listCell info"},[n("span",{staticClass:"infoImg"},[n("img",{attrs:{src:t.assetUrl+"companyimage/"+e.company_image,alt:""}})]),t._v(" "),n("span",[n("h6",[t._v("\n                "+t._s(e.company_name)+"\n              ")])])]),t._v(" "),n("div",{staticClass:"listCell Action"},[n("a",{attrs:{href:"#"},on:{click:function(l){return t.ResponseModal(e.company_id,e.role_id)}}},[n("img",{attrs:{src:l(444),alt:""}}),t._v(" "),n("div",{staticClass:"toolTip"},[t._v("Leave this company")])])])])}))],2),t._v(" "),n("div",{staticClass:"paginationBox"},[n("nav",{attrs:{"aria-label":"Page navigation example"}},[n("ul",{staticClass:"pagination"},[t.Hrlists.length>0&&t.links.length>3?[t._l(t.links,(function(e){return[n("li",{key:e.id,staticClass:"page-item",class:[1==e.active?"active":""]},["&laquo; Previous"==e.label?n("a",{staticClass:"page-link prev",attrs:{"aria-label":"Previous"},on:{click:function(l){return t.submitURL(e.url)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])]):"Next &raquo;"==e.label?n("a",{staticClass:"page-link prev",attrs:{"aria-label":"Previous"},on:{click:function(l){return t.submitURL(e.url)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])]):n("a",{staticClass:"page-link",on:{click:function(l){return t.submitURL(e.url)}}},[t._v(t._s(e.label))])])]}))]:t._e()],2)])])])]:t._e()],2)]):t._e()],1)}),n,!1,null,null,null);e.default=component.exports}}]);