(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{416:function(t,e,r){t.exports=r.p+"img/error.2dc37a0.svg"},417:function(t,e,r){t.exports=r.p+"img/verify.3ec6fed.svg"},476:function(t,e,r){},518:function(t,e,r){"use strict";r(476)},601:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title2",attrs:{id:"ach"}},[r("span",[t._v("Make an offer")]),t._v(" "),r("br")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aleartImg"},[e("img",{attrs:{src:r(416),alt:""}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"aleartText faild"},[r("span",[t._v("Sorry,")]),t._v(" it seems error/s, please fix it.\n              ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("br"),t._v(" "),r("h5",[t._v("Candidate Details")]),t._v(" "),r("br")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title2"},[r("span",[t._v("Offer Sent")]),t._v(" "),r("br")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("br"),t._v(" "),r("h5",[t._v("Candidate Details")]),t._v(" "),r("br")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-right"},[r("span",{staticClass:"dtlViewMore"},[t._v(" Different Candidate? ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"invitationsImg"},[e("img",{attrs:{src:r(417),alt:""}})])}],o=(r(25),r(44),r(33),r(56),r(64),r(111),r(32),r(50),{middleware:["auth","companyaccess","checkLoggedIn"],layout:"companymaindashboard",data:function(){return{assetUrl:"https://robob.credotree.com/",cchannel:null,terms_cond:null,salary:null,salary_error:null,joining_date:null,joining_date_error:null,designation:null,designation_error:null,joining_time:null,joining_time_error:null,valid_date:null,valid_date_error:null,valid_time:null,viewoffer:null,valid_time_error:null,upload_file:null,user_id:null,offerDetail:[],companySlug:null,userDetails:[],interview_id:null,url:null,step1:!0,success:null,file:null,next_step:!1,timeformat:!1,todayDate:(new Date).toISOString().split("T")[0],disabledDates:{to:new Date(2016,0,5),from:new Date(2016,0,26)},minDate:null,maxDate:null,yearRange:null}},computed:{sixmonthdate:function(){var t=new Date(this.todayDate);t.setMonth(t.getMonth()+6);var e=new Date(t),r=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return new Date(o,n,r)},maxtodaydate:function(){var t=new Date(this.todayDate),e=t.getDate(),r=t.getMonth(),n=t.getFullYear();return new Date(n,r,e)},maxinterview:function(){var t=new Date(this.todayDate);t.setMonth(t.getMonth()+6);var e=new Date(t);if((r=e.getDate())<10)var r="0"+r;if((n=e.getMonth()+1)<10)var n="0"+n;return e.getFullYear()+"-"+n+"-"+r}},mounted:function(){var t=this;document.getElementsByClassName("afterLogin").length>0||(document.body.className+=" afterLogin ");var e=new Date,r=new Date(e.setMonth(e.getMonth()+6));e.setMonth(e.getMonth()+6),this.maxDate=r;var n=new Date;this.minDate=n,this.yearRange=n.getFullYear(),this.yearRange+=":"+r.getFullYear(),this.$store.commit("startLoading"),(m=new Date(this.todayDate)).setMonth(m.getMonth()+6);var o=(c=new Date(m)).getDate(),l=c.getMonth(),d=c.getFullYear();this.disabledDates.from=new Date(d,l,o);var c,m=new Date(this.todayDate);o=(c=new Date(m)).getDate(),l=c.getMonth(),d=c.getFullYear();this.disabledDates.to=new Date(d,l,o),this.companySlug=this.$route.params.slug,this.user_id=localStorage.getItem("schedule_user_id"),this.interview_id=localStorage.getItem("schedule_interview_id"),this.$axios.post("https://robob.credotree.com/api/get-user-offer-info",{user_id:this.user_id}).then((function(e){t.userDetails=e.data,t.step1=!0,t.$store.commit("stopLoading")})).catch((function(t){this.$store.commit("stopLoading")}))},methods:{scroll:function(){$(document).on("click",'a[href^="#"]',(function(t){var e=$(this).attr("href"),r=$(e);if(0!==r.length){t.preventDefault();var n=r.offset().top;return $("body, html").animate({scrollTop:n}),!1}}))},closeRightSuccess:function(){this.success=null},minTime:function(){var t=new Date;return t.setTime(t.getTime()+36e5),t},minhalfTime:function(){var t=new Date;return t.setTime(t.getTime()+18e5),t},makeoffer:function(){var t=this,e=r(71);if(this.salary_error=null,this.designation_error=null,this.joining_date_error=null,this.joining_time_error=null,this.success=null,this.valid_date_error=null,this.valid_time_error=null,this.count=0,this.testEmpty(this.designation)<=0&&(this.designation_error="This field is required",this.count+=1),this.testEmpty(this.salary)<=0&&(this.salary_error="This field is required",this.count+=1),this.salary&&/\D/.test(this.salary)&&(this.salary_error="salary must be in number",this.count+=1),null==this.joining_date&&(this.joining_date_error="This field is required",this.count+=1),null==this.joining_time&&(this.joining_time_error="This field is required",this.count+=1),null==this.valid_date&&(this.valid_date_error="This field is required",this.count+=1),null==this.valid_time&&(this.valid_time_error="This field is required",this.count+=1),null!=this.joining_time&&(""==this.joining_time.hh&&(this.joining_time_error="Please select hour",this.count+=1),""==this.joining_time.mm&&(this.joining_time_error="Please select minute",this.count+=1),""==this.joining_time.A&&(this.joining_time_error="Please select AM/PM",this.count+=1)),null!=this.valid_time&&(""==this.valid_time.hh&&(this.valid_time_error="Please select hour",this.count+=1),""==this.valid_time.mm&&(this.valid_time_error="Please select minute",this.count+=1),""==this.valid_time.A&&(this.valid_time_error="Please select AM/PM",this.count+=1)),null!=this.joining_date&&null!=this.joining_time&&new Date(this.convertDate(this.joining_date)+" "+this.convertTime(this.joining_time))<this.minTime()&&(this.joining_date_error="You can't give offer for past time",this.count+=1),null!=this.valid_time&&null!=this.valid_date&&new Date(this.convertDate(this.valid_date)+" "+this.convertTime(this.valid_time))<this.minhalfTime()&&(this.valid_date_error="Response time should be 30 mins after current time. So that user can have reasonable time to respond.",this.count+=1),new Date(this.joining_date)<new Date(this.valid_date)&&(this.valid_date_error="accepting date should be less than joining date",this.count+=1),this.count>0)return this.success=!1,void this.scroll();var n=e(this.joining_date).format("YYYY-MM-DD"),o=e(this.valid_date).format("YYYY-MM-DD");this.$store.commit("startLoading");var data=new FormData;data.append("file",this.file),data.append("user_id",this.user_id),data.append("interview_id",this.interview_id),data.append("companySlug",this.companySlug),data.append("salary",this.salary),data.append("terms_cond",this.terms_cond),data.append("joining_date",n),data.append("joining_time",this.joining_time.hh+":"+this.joining_time.mm+" "+this.joining_time.A),data.append("valid_date",o),data.append("valid_time",this.valid_time.hh+":"+this.valid_time.mm+" "+this.valid_time.A),data.append("designation",this.designation),this.$axios.post("https://robob.credotree.com/api/make-user-offer",data,{headers:{"content-type":"multipart/form-data"}}).then((function(e){try{t.salary_error=e.data.response.salary[0]}catch(t){}try{t.designation_error=e.data.response.designation[0]}catch(t){}try{t.joining_date_error=e.data.response.joining_date[0]}catch(t){}try{t.joining_time_error=e.data.response.joining_time[0]}catch(t){}try{t.valid_date_error=e.data.response.valid_date[0]}catch(t){}try{t.valid_time_error=e.data.response.valid_time[0]}catch(t){}"success"==e.data.status&&(t.step1=!1,t.offerDetail=e.data.offer[0],t.next_step=!0,t.clear(),t.$store.commit("rightReload"),t.$store.commit("stopLoading")),t.clear(),t.$store.commit("stopLoading")})).catch((function(t){}))},onFileChange:function(t){try{this.upload_file=t.target.files[0],this.url=URL.createObjectURL(this.upload_file)}catch(t){}},convertDate:function(t){return r(71)(t).format("YYYY-MM-DD")},convertTime:function(t){return r(71)(t.hh+":"+t.mm+" "+t.A,["h:mm A"]).format("HH:mm:ss")},testEmpty:function(t){return null==t?0:t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")},shows:function(){var t=this.minDate.getMonth(),e=this.minDate.getFullYear(),r=this.maxDate.getMonth(),n=this.maxDate.getFullYear();setTimeout((function(){$(".p-datepicker-month").each((function(){$(this).children("option").show()})),n==$(".p-datepicker-year").val()&&$(".p-datepicker-month > option").each((function(){r<$(this).val()&&$(this).remove()})),e==$(".p-datepicker-year").val()&&$(".p-datepicker-month > option").each((function(){t>$(this).val()&&$(this).remove()}))}),100)},clear:function(){this.salary=null,this.terms_cond=null,this.designation=null,this.joining_date=null,this.joining_time=null,this.valid_time=null,this.valid_date=null,this.upload_file=null},goback:function(){this.$router.push("/company/"+this.companySlug+"/offer-given")},getBack:function(){this.$router.push("/company/"+this.companySlug+"/interview-invitation")}}}),l=(r(518),r(24)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-7 col-md-6 mb-3 mb-md-0"},[1==t.step1?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[t._m(0),t._v(" "),0==t.success?[n("div",{staticClass:"aleartBox error"},[n("span",{staticClass:"close",on:{click:t.closeRightSuccess}},[n("img",{attrs:{src:r(309),alt:""}})]),t._v(" "),t._m(1),t._v(" "),t._m(2)])]:t._e(),t._v(" "),t.userDetails.length>0?n("div",{staticClass:"empDtl"},[t._m(3),t._v(" "),t._l(t.userDetails,(function(e){return n("div",{key:e.id},[n("span",[n("div",{staticClass:"profileImg"},[n("img",{attrs:{src:t.assetUrl+"profileimage/"+e.image_id,alt:""}})])]),t._v(" "),n("span",{staticClass:"empDtlText"},[n("h4",[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(e.email))]),t._v(" "),n("div",{staticClass:"viewCV"},[n("NuxtLink",{attrs:{to:"/"+e.slug}},[n("a",{attrs:{href:"/"+e.slug}},[t._v("View Profile"),n("img",{attrs:{src:r(197),alt:""}})])])],1)]),t._v(" "),n("div",{staticClass:"text-right"},[n("span",{staticClass:"dtlViewMore"},[n("NuxtLink",{attrs:{to:"/company/"+t.companySlug+"/scheduled-interview"}},[n("a",{attrs:{href:"/company/"+t.companySlug+"/scheduled-interview"}},[t._v("Different Candidate?")])])],1)]),t._v(" "),n("br")])}))],2):t._e(),t._v(" "),n("div",{staticClass:"updateContent"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Salary(CTC)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.salary,expression:"salary"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Salary"},domProps:{value:t.salary},on:{input:function(e){e.target.composing||(t.salary=e.target.value)}}}),t._v(" "),t.salary_error?n("div",{staticClass:"errorText"},[t._v("\n                "+t._s(t.salary_error)+"\n              ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Designation")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.designation,expression:"designation"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter designation"},domProps:{value:t.designation},on:{input:function(e){e.target.composing||(t.designation=e.target.value)}}}),t._v(" "),t.designation_error?n("div",{staticClass:"errorText"},[t._v("\n                "+t._s(t.designation_error)+"\n              ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Terms & Conditions (optional)")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.terms_cond,expression:"terms_cond"}],staticClass:"form-control",attrs:{placeholder:"Write something about this interview."},domProps:{value:t.terms_cond},on:{input:function(e){e.target.composing||(t.terms_cond=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v(" Joining Date")]),t._v(" "),n("client-only",[n("Datepicker",{key:this.$store.state.rightSidebarKey,attrs:{dateFormat:"dd/mm/yy","selection-mode":"single",minDate:t.minDate,maxDate:t.maxDate,yearRange:t.yearRange,monthNavigator:!0,yearNavigator:!0,isDarkTheme:!1,hideOnDateTimeSelect:!0,placeholder:"Enter a Date",showIcon:!0},on:{"year-change":t.shows,"month-change":t.shows,show:t.shows},model:{value:t.joining_date,callback:function(e){t.joining_date=e},expression:"joining_date"}})],1),t._v(" "),t.joining_date_error?n("div",{staticClass:"errorText"},[t._v("\n                "+t._s(t.joining_date_error)+"\n              ")]):t._e()],1)]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v(" Joining Time")]),t._v(" "),n("vue-timepicker",{key:this.$store.state.rightSidebarKey,attrs:{placeholder:"Time",format:"hh:mm A","minute-interval":5,"close-on-complete":""},model:{value:t.joining_time,callback:function(e){t.joining_time=e},expression:"joining_time"}}),t._v(" "),t.joining_time_error?n("div",{staticClass:"errorText"},[t._v("\n                "+t._s(t.joining_time_error)+"\n              ")]):t._e()],1)]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Valid till Date")]),t._v(" "),n("client-only",[n("Datepicker",{key:this.$store.state.rightSidebarKey,attrs:{"selection-mode":"single",dateFormat:"dd/mm/yy",minDate:t.minDate,maxDate:t.maxDate,yearRange:t.yearRange,monthNavigator:!0,yearNavigator:!0,isDarkTheme:!1,hideOnDateTimeSelect:!0,placeholder:"Enter a Date",showIcon:!0},on:{"year-change":t.shows,"month-change":t.shows,show:t.shows},model:{value:t.valid_date,callback:function(e){t.valid_date=e},expression:"valid_date"}})],1),t._v(" "),t.valid_date_error?n("div",{staticClass:"errorText"},[t._v("\n                "+t._s(t.valid_date_error)+"\n              ")]):t._e()],1)]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Valid till Time")]),t._v(" "),n("vue-timepicker",{key:this.$store.state.rightSidebarKey,attrs:{"minute-interval":5,placeholder:"Time",format:"hh:mm A","close-on-complete":""},model:{value:t.valid_time,callback:function(e){t.valid_time=e},expression:"valid_time"}}),t._v(" "),t.valid_time_error?n("div",{staticClass:"errorText"},[t._v("\n                "+t._s(t.valid_time_error)+"\n              ")]):t._e()],1)]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Upload Documents(Optional)")]),t._v(" "),n("b-form-file",{attrs:{state:Boolean(t.file),placeholder:"Only PDF or Zip Files allow","drop-placeholder":"Drop file here...",accept:".pdf,.doc,.zip","browse-text":"upload"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)]),t._v(" "),n("div",{staticClass:"col-12 text-right"},[n("div",{staticClass:"formBtnBox"},[n("a",{staticClass:"btn w-auto",attrs:{href:"#ach"},on:{click:function(e){return e.preventDefault(),t.makeoffer.apply(null,arguments)}}},[t._v("\n                Make an offer\n              ")])])])])])],2)]):t._e(),t._v(" "),1==t.viewoffer?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[t._m(4),t._v(" "),t.userDetails.length>0?n("div",{staticClass:"empDtl"},[t._m(5),t._v(" "),t._l(t.userDetails,(function(e){return n("div",{key:e.id},[n("span",[n("div",{staticClass:"profileImg"},[n("img",{attrs:{src:t.assetUrl+"profileimage/"+e.image_id,alt:""}})])]),t._v(" "),n("span",{staticClass:"empDtlText"},[n("h4",[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(e.email))]),t._v(" "),n("div",{staticClass:"viewCV"},[n("NuxtLink",{attrs:{to:"/"+e.slug}},[n("a",{attrs:{href:"/"+e.slug}},[t._v("View Profile"),n("img",{attrs:{src:r(197),alt:""}})])])],1)]),t._v(" "),t._m(6,!0),t._v(" "),n("br")])}))],2):t._e(),t._v(" "),n("div",{staticClass:"updateContent"},[n("div",{staticClass:"row"},[t.offerDetail?[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Salary(CTC)")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Salary",disabled:"false"},domProps:{value:t.offerDetail.salary}}),t._v(" "),t.salary_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.salary_error)+"\n                ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Designation")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter designation",disabled:"false"},domProps:{value:t.offerDetail.designation}}),t._v(" "),t.designation_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.designation_error)+"\n                ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Terms & Conditions (optional)")]),t._v(" "),n("textarea",{staticClass:"form-control",attrs:{placeholder:"Write something about this interview.",disabled:"false"},domProps:{value:t.offerDetail.terms_cond}})])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v(" Joining Date")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter designation",disabled:"false"},domProps:{value:t.offerDetail.joining_date}}),t._v(" "),t.joining_date_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.joining_date_error)+"\n                ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v(" Joining Time")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter designation",disabled:"false"},domProps:{value:t.offerDetail.joining_time}}),t._v(" "),t.joining_time_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.joining_time_error)+"\n                ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Valid till Date")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter designation",disabled:"false"},domProps:{value:t.offerDetail.valid_date}}),t._v(" "),t.valid_date_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.valid_date_error)+"\n                ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group formBox"},[n("label",[t._v("Offer Valid till Time")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter designation",disabled:"false"},domProps:{value:t.offerDetail.valid_time}}),t._v(" "),t.valid_time_error?n("div",{staticClass:"errorText"},[t._v("\n                  "+t._s(t.valid_time_error)+"\n                ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group formBox"},[t.file?[n("label",[t._v("Upload Documents(Optional)")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter designation",disabled:"false"},domProps:{value:t.file.name}})]:t._e()],2)]),t._v(" "),n("div",{staticClass:"col-12 text-right"},[n("div",{staticClass:"formBtnBox"},[n("button",{staticClass:"btn w-auto outline",on:{click:function(e){return e.preventDefault(),t.getBack.apply(null,arguments)}}},[t._v("\n                  Back\n                ")])])])]:t._e()],2)])])]):1==t.next_step?n("div",{staticClass:"updateBox"},[n("div",{staticClass:"updateContent"},[n("div",{staticClass:"invitationsBox success"},[t._m(7),t._v(" "),n("p",[t._v("Offer sent successfully")]),t._v(" "),n("p",[t._v("\n         Your offer has been sent successfully, we will notify you once\n          candidate will take action (accept, reject or modify request) on\n          this\n        ")]),t._v(" "),n("div",{staticClass:"formBtnBox"},[n("button",{staticClass:"btn w-auto",on:{click:function(e){return e.preventDefault(),t.goback.apply(null,arguments)}}},[t._v("\n            View Offer\n          ")])])])])]):t._e()])}),n,!1,null,null,null);e.default=component.exports}}]);